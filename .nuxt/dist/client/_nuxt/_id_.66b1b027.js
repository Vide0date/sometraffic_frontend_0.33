import{H as b,T as A,M as E}from"./components.855e18d0.js";import{_ as j}from"./Loader.c407ab1f.js";import{l as q,a0 as C,a as N,r as F,b as H,w as k,e as w,u as o,c as L,f as x,h as P,i as _,j as a,P as V,o as p,m as $,t as D}from"./entry.c7e0c2b6.js";import{u as R}from"./fetch.a7510bac.js";import"./composables.7f912f08.js";const M={class:"w-screen h-screen rounded-xl p-8 flex justify-center m-auto"},U={class:"space-y-8 flex justify-center m-auto object-center"},I={key:0,class:"inline-flex tracking"},J={__name:"[id]",async setup(O){let n,c;const s=q();C();const l=N(),i=s.params,S=s.query,t=F([]),B=H({redirect_flaq:!1}),f=l.BASE_URL+s.fullPath,u=f.split("?")[0];if(console.log("Full Path: ",f),i.id&&i.id.length===7){S.fbclid?console.log("Save it."):(console.log("Redirect it or show preview or do nothing."),[n,c]=k(()=>R(`${l.API_BASE_URL}trackingurl/get-meta`,{method:"POST",body:{tracking_url:u}},"$Yr6aDRXGgk").then(e=>{e.data.value&&(t.value=e.data.value),e.error.value&&console.log("Error no result",e.error)}).catch(e=>{console.log("Error useFetch: ",e)})),await n,c()),console.log("Redirect: ",t);let m=0,g=0,d="";[n,c]=k(()=>R(`${l.API_BASE_URL}trackingurl/redirect`,{method:"POST",body:{id:i.id,tracking_url:u,screen_resolution:m+"x"+g,network_speed:d}},"$PNCP5poDuj").then(e=>{if(e.data.value){t.value=e.data.value.redirect;let r=e.data.value.destination_url;(!r.includes("http")||!r.includes("http"))&&(r="https://"+r)}e.error.value&&console.log("error value1",e.error.value.data.message)}).catch(e=>{})),await n,c()}return(m,g)=>{var h;const d=A,e=E,r=b,T=j;return p(),w(V,null,[((h=o(t))==null?void 0:h.length)>0?(p(),L(r,{key:0},{default:x(()=>{var y;return[a(d,null,{default:x(()=>{var v;return[$("Some Traffic | "+D((v=o(t)[0])==null?void 0:v.seo_title),1)]}),_:1}),a(e,{property:"og:title",content:(y=o(t)[0])==null?void 0:y.seo_title},null,8,["content"]),a(e,{property:"og:description",content:o(t)[0].seo_description},null,8,["content"]),a(e,{property:"og:image",content:o(t)[0].seo_image_url},null,8,["content"]),a(e,{property:"og:url",content:o(u)},null,8,["content"]),a(e,{property:"og:type",content:"Some traffic web app"})]}),_:1})):P("",!0),_("div",null,[_("div",M,[_("div",U,[o(B).redirect_flaq==!0?(p(),w("span",I,[a(T)])):P("",!0)])])])],64)}}};export{J as default};

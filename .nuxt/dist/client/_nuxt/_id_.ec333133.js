import{u as M}from"./composables.ced17a4c.js";import{J as l,b as T,a0 as F,a as H,r as L,e as O,x,h as N,u as p,c as U,F as E,k as q,i as h,j as g,N as V,o as _,P as $,L as z}from"./entry.25369c85.js";import{_ as D}from"./Loader.aefdc084.js";import{u as j}from"./fetch.b1abd144.js";const I=n=>Object.fromEntries(Object.entries(n).filter(([,e])=>e!==void 0)),d=(n,e)=>(i,r)=>(M(()=>n({...I(i),...r.attrs},r)),()=>{var a,o;return e?(o=(a=r.slots).default)==null?void 0:o.call(a):null}),u={accesskey:String,autocapitalize:String,autofocus:{type:Boolean,default:void 0},class:[String,Object,Array],contenteditable:{type:Boolean,default:void 0},contextmenu:String,dir:String,draggable:{type:Boolean,default:void 0},enterkeyhint:String,exportparts:String,hidden:{type:Boolean,default:void 0},id:String,inputmode:String,is:String,itemid:String,itemprop:String,itemref:String,itemscope:String,itemtype:String,lang:String,nonce:String,part:String,slot:String,spellcheck:{type:Boolean,default:void 0},style:String,tabindex:String,title:String,translate:String};l({name:"NoScript",inheritAttrs:!1,props:{...u,title:String,body:Boolean,renderPriority:[String,Number]},setup:d((n,{slots:e})=>{var a;const i={...n},r=(((a=e.default)==null?void 0:a.call(e))||[]).filter(({children:o})=>o).map(({children:o})=>o).join("");return r&&(i.children=r),{noscript:[i]}})});l({name:"Link",inheritAttrs:!1,props:{...u,as:String,crossorigin:String,disabled:Boolean,fetchpriority:String,href:String,hreflang:String,imagesizes:String,imagesrcset:String,integrity:String,media:String,prefetch:{type:Boolean,default:void 0},referrerpolicy:String,rel:String,sizes:String,title:String,type:String,methods:String,target:String,body:Boolean,renderPriority:[String,Number]},setup:d(n=>({link:[n]}))});l({name:"Base",inheritAttrs:!1,props:{...u,href:String,target:String},setup:d(n=>({base:n}))});const W=l({name:"Title",inheritAttrs:!1,setup:d((n,{slots:e})=>{var r,a,o;return{title:((o=(a=(r=e.default)==null?void 0:r.call(e))==null?void 0:a[0])==null?void 0:o.children)||null}})}),G=l({name:"Meta",inheritAttrs:!1,props:{...u,charset:String,content:String,httpEquiv:String,name:String,body:Boolean,renderPriority:[String,Number]},setup:d(n=>{const e={...n};return e.httpEquiv&&(e["http-equiv"]=e.httpEquiv,delete e.httpEquiv),{meta:[e]}})});l({name:"Style",inheritAttrs:!1,props:{...u,type:String,media:String,nonce:String,title:String,scoped:{type:Boolean,default:void 0},body:Boolean,renderPriority:[String,Number]},setup:d((n,{slots:e})=>{var a,o,f;const i={...n},r=(f=(o=(a=e.default)==null?void 0:a.call(e))==null?void 0:o[0])==null?void 0:f.children;return r&&(i.children=r),{style:[i]}})});const J=l({name:"Head",inheritAttrs:!1,setup:(n,e)=>()=>{var i,r;return(r=(i=e.slots).default)==null?void 0:r.call(i)}});l({name:"Html",inheritAttrs:!1,props:{...u,manifest:String,version:String,xmlns:String,renderPriority:[String,Number]},setup:d(n=>({htmlAttrs:n}),!0)});l({name:"Body",inheritAttrs:!1,props:{...u,renderPriority:[String,Number]},setup:d(n=>({bodyAttrs:n}),!0)});const X={class:"w-screen h-screen rounded-xl p-8 flex justify-center m-auto"},Y={class:"space-y-8 flex justify-center m-auto object-center"},K={key:0,class:"inline-flex tracking"},ne={__name:"[id]",async setup(n){var v,b;let e,i;const r=T();F();const a=H(),o=r.params,f=r.query,c=L([]),R=O({redirect_flaq:!1}),y=a.BASE_URL+r.fullPath,S=y.split("?")[0];if(console.log("Full Path: ",y),o.id&&o.id.length===7){f.fbclid?console.log("Save it."):(console.log("Redirect it or show preview or do nothing."),[e,i]=x(()=>j(`${a.API_BASE_URL}trackingurl/get-meta`,{method:"POST",body:{tracking_url:S}},"$Yr6aDRXGgk").then(t=>{t.data.value&&(c.value=t.data.value),t.error.value&&console.log("Error no result",t.error)}).catch(t=>{console.log("Error useFetch: ",t)})),await e,i()),console.log("Redirect: ",c);const B=(v=window==null?void 0:window.screen)==null?void 0:v.width,k=(b=window==null?void 0:window.screen)==null?void 0:b.height;let m="";if(navigator.connection){const s=navigator.connection.downlink;m=s+" Mbps",console.log("Internet speed is "+s+" Mbps")}else console.log("navigator.connection is not available");[e,i]=x(()=>j(`${a.API_BASE_URL}trackingurl/redirect`,{method:"POST",body:{id:o.id,tracking_url:S,screen_resolution:B+"x"+k,network_speed:m,referrer_url:document.referrer}},"$PNCP5poDuj").then(t=>{if(t.data.value){c.value=t.data.value.redirect;let s=t.data.value.destination_url;(!s.includes("http")||!s.includes("http"))&&(s="https://"+s)}t.error.value&&(console.log("error value1",t.error.value.data.message),AWN.alert(error))}).catch(t=>{AWN.alert(t)})),await e,i()}return(B,k)=>{var A;const m=W,t=G,s=J,C=D;return _(),N(V,null,[((A=p(c))==null?void 0:A.length)>0?(_(),U(s,{key:0},{default:E(()=>{var P;return[g(m,null,{default:E(()=>{var w;return[$("Some Traffic | "+z((w=p(c)[0])==null?void 0:w.seo_title),1)]}),_:1}),g(t,{property:"og:title",content:(P=p(c)[0])==null?void 0:P.seo_title},null,8,["content"]),g(t,{property:"og:description",content:p(c)[0].seo_description},null,8,["content"]),g(t,{property:"og:image",content:p(c)[0].seo_image_url},null,8,["content"]),g(t,{property:"og:url",content:p(S)},null,8,["content"]),g(t,{property:"og:type",content:"Some traffic web app"})]}),_:1})):q("",!0),h("div",null,[h("div",X,[h("div",Y,[p(R).redirect_flaq==!0?(_(),N("span",K,[g(C)])):q("",!0)])])])],64)}}};export{ne as default};

{"version":3,"file":"_id_-2b21fd1a.js","sources":["../../../../pages/user-groups/[id].vue"],"sourcesContent":["<template>\r\n      <div id=\"last-tracking-url\">\r\n  \r\n        <form @submit.prevent=\"updateGroup\">\r\n          <div class=\"flex justify-between\">\r\n            <h1 class=\"font-bold py-4 capitalize\">Edit a new group</h1>\r\n  \r\n            <button\r\n              type=\"submit\"\r\n              class=\"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-4 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n            >\r\n             Edit group\r\n            </button>\r\n          </div>\r\n  \r\n          <div class=\"overflow-hidden shadow sm:rounded-md\">\r\n            <div class=\"px-4 py-5 sm:p-6\">\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-1 flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    ID\r\n                  </div>\r\n                  <div class=\"col-span-5 pr-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.unique_identifier\"\r\n                      :disabled=\"form.unique_identifier\"\r\n                      id=\"unique_identifier\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    class=\"col-span-1 flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Created at\r\n                  </div>\r\n                  <div class=\"col-span-5 pl-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      :value=\"formatDate(form.createdAt, 'YYYY-MM-DD HH:mm')\"\r\n                      disabled\r\n                      id=\"timestamp\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n  \r\n              <div class=\"flex flex-row mt-4\">\r\n                <div class=\"basis-1/2 pr-1.5\">\r\n                  <div class=\"col-span-12\">\r\n                    <div class=\"grid grid-cols-12\">\r\n                      <div\r\n                        class=\"col-span-3 flex items-center text-sm font-medium text-gray-700\"\r\n                      >\r\n                        Updated\r\n                      </div>\r\n                      <div class=\"col-span-9\">\r\n                        <input\r\n                          type=\"text\"\r\n                          v-model=\"form.timestamp\"\r\n                          :disabled=\"form.timestamp\"\r\n                          id=\"timestamp\"\r\n                          class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"basis-1/2 pl-1.5\">\r\n                  <div class=\"col-span-12\">\r\n                    <div class=\"grid grid-cols-12\">\r\n                      <div\r\n                        class=\"col-span-3 flex items-center text-sm font-medium text-gray-700\"\r\n                      >\r\n                        Created By\r\n                      </div>\r\n                      <div class=\"col-span-9\">\r\n                        <input\r\n                          type=\"text\"\r\n                          v-model=\"form.createdBy\"\r\n                          :disabled=\"form.createdBy\"\r\n                          id=\"username\"\r\n                          class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"col-span-12 py-2\">\r\n              <div\r\n                class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4\"\r\n              >\r\n                <div\r\n                  class=\"col-span-3 flex items-center text-sm font-medium text-gray-700\"\r\n                >\r\n                  Related to Project *\r\n                  <svg\r\n                    v-tooltip.right=\"{\r\n                      content:\r\n                        '<div>Obligatory, here you have to select which project you want to edit group to.</div>',\r\n                      html: true,\r\n                    }\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke-width=\"1.5\"\r\n                    stroke=\"currentColor\"\r\n                    class=\"w-6 h-6 ml-2 text-gray-800\"\r\n                    style=\"display: inline-block\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      d=\"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z\"\r\n                    />\r\n                  </svg>\r\n                  <!-- <div\r\n                    class=\"basis-1/2 flex items-center text-sm font-medium text-gray-700 pl-3\"\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      :disabled=\"form.category === null\"\r\n                      @click=\"(event) => saveDefault(form.category)\"\r\n                      class=\"bg-[#bcbcbc] rounded-md border border-transparent py-1 px-4 text-sm font-medium text-black disabled:text-gray-500\"\r\n                    >\r\n                      Store as default\r\n                    </button>\r\n                    <svg\r\n                      v-tooltip.right=\"{\r\n                        content:\r\n                          '<div>The value that is selected here on the right becomes the default value when you press the “store as default”button. <br />The next time that you create a new category item, This value will be automatically selected for you. </div>',\r\n                        html: true,\r\n                      }\"\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke-width=\"1.5\"\r\n                      stroke=\"currentColor\"\r\n                      class=\"w-6 h-6 ml-2 text-gray-800\"\r\n                      style=\"display: inline-block\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        d=\"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z\"\r\n                      />\r\n                    </svg>\r\n                  </div> -->\r\n                </div>\r\n                <div class=\"col-span-9\">\r\n                  <select\r\n                    v-model=\"form.ProjectId\"\r\n                    id=\"category\"\r\n                    class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    required\r\n                  >\r\n                    <option v-for=\"project in projects\" :key=\"project.id\" :value=\"project.id\">{{project.name}}</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n              <div class=\"col-span-12 mt-4\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-3 flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Group name *\r\n                  </div>\r\n                  <div class=\"col-span-9\">\r\n                    <input\r\n                      placeholder=\"Need to enter account name (obligatory)\"\r\n                      type=\"text\"\r\n                      v-model=\"form.name\"\r\n                      id=\"name\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n  \r\n              <div class=\"col-span-12 sm:col-span-12 mt-4\">\r\n                <div\r\n                  class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4\"\r\n                >\r\n                  <div class=\"col-span-12 sm:col-span-12\">\r\n                    <label\r\n                      for=\"description\"\r\n                      class=\"block text-sm font-medium text-gray-700\"\r\n                      >Description</label\r\n                    >\r\n                    <textarea\r\n                      v-model=\"form.description\"\r\n                      rows=\"6\"\r\n                      id=\"description\"\r\n                      class=\"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                      placeholder=\"(free text field, 1000 characters max, about 30 sentenses max) what is the goal of this item or group\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              </div>\r\n  \r\n            <!-- <div class=\"px-4 py-3 text-right sm:px-6 w-full sm:w-full\">\r\n              <button\r\n                type=\"submit\"\r\n                class=\"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n              >\r\n                Create category item\r\n              </button>\r\n            </div> -->\r\n          </div>\r\n        </form>\r\n      </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import moment from \"moment-timezone\"\r\n\r\n  definePageMeta({\r\n    middleware: [\"auth\"],\r\n  })\r\n  \r\n  const AWN = inject(\"$awn\")\r\n  const config = useRuntimeConfig()\r\n  const { id } = await useRoute().params\r\n  \r\n  let timestamp = ref(new Date().toLocaleTimeString())\r\n  let user = localStorage.getItem(\"user\")\r\n  const activeAccount = ref(\r\n  localStorage.getItem(\"activeAccount\")\r\n)\r\n\r\n  const clickdatas = ref([])\r\n  const uniqueUrl = ref(\"\")\r\n  const isLoading = ref(false)\r\n  const projects = ref([])\r\n\r\n  setInterval(() => {\r\n    timestamp.value = new Date().toLocaleTimeString()\r\n  }, 10)\r\n  \r\n  const form = reactive({\r\n    createdBy: \"\",\r\n    createdAt: \"\",\r\n    timestamp,\r\n    unique_identifier: \"\",\r\n    description: \"\",\r\n    name: \"\",\r\n    ProjectId: \"\",\r\n    id: \"\"\r\n  })\r\n  \r\n  \r\n  const { data: group } = await useFetch(\r\n    `${config.API_BASE_URL}groups/identifier/${id}`,\r\n    { key: id }\r\n  )\r\n  \r\n  if (group.value) {\r\n    form.id = group.value.id\r\n    form.ProjectId = group.value.ProjectId\r\n    form.name = group.value.name\r\n    form.createdBy = group.value.createdBy;\r\n    form.unique_identifier = group.value.unique_identifier\r\n    form.description = group.value.description\r\n    form.createdAt = group.value.createdAt\r\n  }\r\n  \r\n  const formatDate = (dateString, formatString) => {\r\n    const date = new Date(dateString)\r\n    return moment(date).format(formatString)\r\n  }\r\n  \r\n  const updateGroup = async () => {\r\n    const u_data = {\r\n      id: form.id,\r\n      ProjectId: form.ProjectId,\r\n      name: form.name,\r\n      createdBy: form.createdBy,\r\n      unique_identifier: form.unique_identifier,\r\n      description: form.description,\r\n    }\r\n  \r\n    const { data, error } = await useFetch(\r\n      `${config.API_BASE_URL}groups/update/${id}`,\r\n      {\r\n        method: \"PUT\",\r\n        body: u_data,\r\n      }\r\n    )\r\n    if (data.value) {\r\n      await AWN.success(data.value.message)\r\n      navigateTo(\"/user-groups\").then(()=>{\r\n          const router = useRouter()\r\n          router.go(\"/user-groups\")\r\n      })\r\n    }\r\n    if (error.value) {\r\n      await AWN.alert(error.value.statusMessage)\r\n    }\r\n  }\r\n  \r\n  \r\n  const setLoading = () => {\r\n    isLoading.value = true\r\n  }\r\n  \r\n  const copy = async (id) => {\r\n    // Get the text field\r\n    var copyText = document.getElementById(id)\r\n  \r\n    // Select the text field\r\n    copyText.select()\r\n    copyText.setSelectionRange(0, 99999) // For mobile devices\r\n  \r\n    // Copy the text inside the text field\r\n    navigator.clipboard.writeText(copyText.value)\r\n    await AWN.success(copyText.value + \" copied to clipboard!\")\r\n    // Alert the copied text\r\n    //alert(\"Copied the text: \" + copyText.value);\r\n  }\r\n  \r\n  const setProjects = async () => {\r\n  const { data: data } = await useFetch(\r\n    `${config.API_BASE_URL}projects/all?AccountId=${activeAccount.value}`\r\n  )\r\n  projects.value = data.value\r\n}\r\n  onBeforeMount(setProjects)\r\n\r\n  </script>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        tab: 1,\r\n      }\r\n    },\r\n    methods: {\r\n      activeTabOne() {\r\n        this.tab = 1\r\n      },\r\n      activeTabTwo() {\r\n        this.tab = 2\r\n      },\r\n      activeTabThree() {\r\n        this.tab = 3\r\n      },\r\n      activeTabFour() {\r\n        this.tab = 4\r\n      },\r\n    },\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n  input:checked {\r\n    background-color: #22c55e; /* bg-green-500 */\r\n  }\r\n  \r\n  input:checked ~ span:last-child {\r\n    --tw-translate-x: 1.75rem; /* translate-x-7 */\r\n  }\r\n  .valid {\r\n    border: 3px solid green;\r\n  }\r\n  \r\n  .invalid {\r\n    border: 3px solid red;\r\n  }\r\n  \r\n  #awn-popup-wrapper {\r\n    display: none !important;\r\n  }\r\n  \r\n  .input-w-loading {\r\n    width: 90%;\r\n  }\r\n  img.loading {\r\n    width: 50px;\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n  }\r\n  \r\n  #tasks_list h1,\r\n  table tbody tr td {\r\n    color: #000;\r\n  }\r\n  </style>\r\n  \r\n  <style>\r\n  .modal-vue3-header,\r\n  .modal-vue3-body .text {\r\n    color: #000 !important;\r\n  }\r\n  \r\n  .confirm-modal > div > .modal-vue3-content {\r\n    /* background: red; */\r\n    /* display: none !important; */\r\n  }\r\n  </style>\r\n  "],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAyVA,MAAA,cAAA;AAAA,EACA,OAAA;AACA,WAAA;AAAA,MACA,KAAA;AAAA,IACA;AAAA,EACA;AAAA,EACA,SAAA;AAAA,IACA,eAAA;AACA,WAAA,MAAA;AAAA,IACA;AAAA,IACA,eAAA;AACA,WAAA,MAAA;AAAA,IACA;AAAA,IACA,iBAAA;AACA,WAAA,MAAA;AAAA,IACA;AAAA,IACA,gBAAA;AACA,WAAA,MAAA;AAAA,IACA;AAAA,EACA;AACA;;;;;;AAnIA,WAAA,MAAA;AACA,UAAA,SAAA,iBAAA;AACA,UAAA,EAAA,GAAA,KAAuB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAA,EAAA,MAAA;AAEvB,QAAA,YAAA,IAAA,IAAA,KAAA,EAAA,mBAAA,CAAA;AACA,iBAAA,QAAA,MAAA;AACA;AAAA,MACA,aAAA,QAAA,eAAA;AAAA,IACA;AAEA,QAAA,CAAA,CAAA;AACA,QAAA,EAAA;AACA,QAAA,KAAA;AACA,UAAA,WAAA,IAAA,EAAA;AAEA,gBAAA,MAAA;AACA,gBAAA,QAAA,IAAA,KAAA,EAAA,mBAAA;AAAA,IACA,GAAA,EAAA;AAEA,UAAA,OAAA,SAAA;AAAA,MACA,WAAA;AAAA,MACA,WAAA;AAAA,MACA;AAAA,MACA,mBAAA;AAAA,MACA,aAAA;AAAA,MACA,MAAA;AAAA,MACA,WAAA;AAAA,MACA,IAAA;AAAA,IACA,CAAA;AAGA,UAAA,EAAA,MAAA,MAAA;MACA,GAAA,OAAA,iCAAA;AAAA,MACA,EAAA,KAAA,GAAA;AAAA,MACA;AAAA,IAAA,CAAA;AAEA,QAAA,MAAA,OAAA;AACA,WAAA,KAAA,MAAA,MAAA;AACA,WAAA,YAAA,MAAA,MAAA;AACA,WAAA,OAAA,MAAA,MAAA;AACA,WAAA,YAAA,MAAA,MAAA;AACA,WAAA,oBAAA,MAAA,MAAA;AACA,WAAA,cAAA,MAAA,MAAA;AACA,WAAA,YAAA,MAAA,MAAA;AAAA,IACA;AAEA,UAAA,aAAA,CAAA,YAAA,iBAAA;AACA,YAAA,OAAA,IAAA,KAAA,UAAA;AACA,aAAA,OAAA,IAAA,EAAA,OAAA,YAAA;AAAA,IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
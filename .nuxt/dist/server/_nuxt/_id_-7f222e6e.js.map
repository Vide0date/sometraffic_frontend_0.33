{"version":3,"file":"_id_-7f222e6e.js","sources":["../../../../pages/[id].vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- <Head v-if=\"redirect?.length > 0\">\r\n      <Title>Some traffic | {{ redirect[0]?.seo_title }}</Title> -->\r\n\r\n      <!-- Open Graph Meta Tags -->\r\n      <!-- <Meta property=\"og:title\" :content=\"redirect[0]?.seo_title\" />\r\n      <Meta property=\"og:description\" :content=\"redirect[0]?.seo_description\" />\r\n      <Meta property=\"og:image\" :content=\"redirect[0]?.seo_image_url\" />\r\n      <Meta property=\"og:url\" :content=\"fullpath\" />\r\n      <Meta property=\"og:type\" content=\"Some traffic web app\" />\r\n    </Head> -->\r\n\r\n    <div class=\"w-screen h-screen rounded-xl p-8 flex justify-center m-auto\">\r\n      <div class=\"space-y-8 flex justify-center m-auto object-center\">\r\n        <span class=\"inline-flex tracking\" v-if=\"flaq.redirect_flaq == true\">\r\n          <Loader />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\ndefinePageMeta({\r\n  layout: \"front\",\r\n});\r\n\r\nconst config = useRuntimeConfig();\r\nconst AWN = inject(\"$awn\");\r\n\r\nconst path = window.location.href;\r\nconst fullpath = path.split(\"?\")[0];\r\n\r\nconst { id } = useRoute().params;\r\nconst redirect = ref([]);\r\nconst flaq = reactive({ redirect_flaq: false });\r\n\r\nonBeforeMount(async () => {\r\nconst screenWidth = window?.screen?.width;\r\nconst screenHeight = window?.screen?.height;\r\n\r\nlet network_speed = \"\";\r\nif (navigator.connection) {\r\n  const connection = navigator.connection;\r\n  const speedMbps = connection.downlink; // Get the estimated download speed in Mbps\r\n  network_speed = speedMbps + \" Mbps\";\r\n  console.log(\"Internet speed is \" + speedMbps + \" Mbps\");\r\n} else {\r\n  console.log(\"navigator.connection is not available\");\r\n}\r\n\r\nif (id) {\r\n  flaq.redirect_flaq = !flaq.redirect_flaq;\r\n  await useFetch(`${config.API_BASE_URL}trackingurl/redirect`, {\r\n    method: \"POST\",\r\n    body: {\r\n      id: id,\r\n      tracking_url: fullpath,\r\n      screen_resolution: screenWidth + \"x\" + screenHeight,\r\n      network_speed: network_speed,\r\n      referrer_url: document.referrer,\r\n    },\r\n  })\r\n    .then((result) => {\r\n      if (result.data.value) {\r\n        redirect.value = result.data.value.redirect;\r\n        // flaq.redirect_flaq = !flaq.redirect_flaq;\r\n        let destination = result.data.value.destination_url;\r\n        if (!destination.includes(\"http\") || !destination.includes(\"http\")) {\r\n          destination = \"https://\" + destination;\r\n        }\r\n        useHead({\r\n          title: \"Some traffic | \" + redirect[0]?.seo_title,\r\n          meta: [\r\n            {\r\n              property: \"og:title\",\r\n              content: redirect[0]?.seo_title\r\n            },\r\n            {\r\n              property: \"og:description\",\r\n              content: redirect[0]?.seo_description\r\n            },\r\n            {\r\n              property: \"og:image\",\r\n              content: redirect[0]?.seo_image_url\r\n            },\r\n            {\r\n              property: \"og:url\",\r\n              content: fullpath\r\n            },\r\n            {\r\n              property: \"og:type\",\r\n              content: \"Some traffic web app\"\r\n            },\r\n          ]\r\n        })\r\n        // window.location.assign(destination);\r\n      }\r\n      if (result.error.value) {\r\n        console.log(\"error value1\", result.error.value.data.message);\r\n        AWN.alert(error);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      AWN.alert(error);\r\n    });\r\n  }\r\n})\r\n\r\n</script>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA4BA,qBAAA;AACA,WAAA,MAAA;AAEA,UAAA,OAAA,OAAA,SAAA;AACA,SAAA,MAAA,GAAA,EAAA,CAAA;AAEA,aAAA,EAAA;AACA,QAAA,EAAA;AACA,UAAA,OAAA,SAAA,EAAA,eAAA,MAAA,CAAA;;;;;;;;;;;;;;;;;;;;;"}
{"version":3,"file":"_id_-e58631bd.js","sources":["../../../../pages/[id].vue"],"sourcesContent":["<template>\n  <div>\n    <Head v-if=\"redirect?.length > 0\">\n      <Title>Some traffic | {{ redirect[0]?.seo_title }}</Title>\n\n      <!-- Open Graph Meta Tags -->\n      <Meta property=\"og:title\" :content=\"redirect[0]?.seo_title\" />\n      <Meta property=\"og:description\" :content=\"redirect[0]?.seo_description\" />\n      <Meta property=\"og:image\" :content=\"redirect[0]?.seo_image_url\" />\n      <Meta property=\"og:url\" :content=\"fullpath\" />\n      <Meta property=\"og:type\" content=\"Some traffic web app\" />\n    </Head>\n\n    <div class=\"w-screen h-screen rounded-xl p-8 flex justify-center m-auto\">\n      <div class=\"space-y-8 flex justify-center m-auto object-center\">\n        <span class=\"inline-flex tracking\" v-if=\"flaq.redirect_flaq == true\">\n          <Loader />\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefinePageMeta({\n  layout: \"front\",\n});\n\nconst config = useRuntimeConfig();\nconst AWN = inject(\"$awn\");\n\nconst path = window.location.href;\nconst fullpath = path.split(\"?\")[0];\n\nconst { id } = await useRoute().params;\nconst redirect = ref([]);\nconst flaq = reactive({ redirect_flaq: false });\n\nconst screenWidth = window?.screen?.width;\nconst screenHeight = window?.screen?.height;\n\nlet network_speed = \"\";\nif (navigator.connection) {\n  const connection = navigator.connection;\n  const speedMbps = connection.downlink; // Get the estimated download speed in Mbps\n  network_speed = speedMbps + \" Mbps\";\n  console.log(\"Internet speed is \" + speedMbps + \" Mbps\");\n} else {\n  console.log(\"navigator.connection is not available\");\n}\n\nif (id) {\n  flaq.redirect_flaq = !flaq.redirect_flaq;\n  await useFetch(`${config.API_BASE_URL}trackingurl/redirect`, {\n    method: \"POST\",\n    body: {\n      id: id,\n      tracking_url: fullpath,\n      screen_resolution: screenWidth + \"x\" + screenHeight,\n      network_speed: network_speed,\n      referrer_url: document.referrer,\n    },\n  })\n    .then((result) => {\n      if (result.data.value) {\n        redirect.value = result.data.value.redirect;\n        // flaq.redirect_flaq = !flaq.redirect_flaq;\n        let destination = result.data.value.destination_url;\n        if (!destination.includes(\"http\") || !destination.includes(\"http\")) {\n          destination = \"https://\" + destination;\n        }\n        window.location.assign(destination);\n      }\n      if (result.error.value) {\n        console.log(\"error value1\", result.error.value.data.message);\n        AWN.alert(error);\n      }\n    })\n    .catch((error) => {\n      AWN.alert(error);\n    });\n}\n</script>\n"],"names":["_withAsyncContext","error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,UAAA,SAAA,iBAAA;AACA,UAAA,MAAA,OAAA,MAAA;AAEA,UAAA,OAAA,OAAA,SAAA;AACA,UAAA,WAAA,KAAA,MAAA,GAAA,EAAA,CAAA;AAEA,UAAA,EAAA,GAAA,KAAqB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAA,EAAA,MAAA;AACrB,UAAA,WAAA,IAAA,CAAA,CAAA;AACA,UAAA,OAAA,SAAA,EAAA,eAAA,MAAA,CAAA;AAEA,UAAA,eAAA,sCAAA,WAAA,mBAAA;AACA,UAAA,gBAAA,sCAAA,WAAA,mBAAA;AAEA,QAAA,gBAAA;AACA,QAAA,UAAA,YAAA;AACA,YAAA,aAAA,UAAA;AACA,YAAA,YAAA,WAAA;AACA,sBAAA,YAAA;AACA,cAAA,IAAA,uBAAA,YAAA,OAAA;AAAA,IACA,OAAA;AACA,cAAA,IAAA,uCAAA;AAAA,IACA;AAEA,QAAA,IAAA;AACA,WAAA,gBAAA,CAAA,KAAA;AACA;QACA,QAAA;AAAA,QACA,MAAA;AAAA,UACA;AAAA,UACA,cAAA;AAAA,UACA,mBAAA,cAAA,MAAA;AAAA,UACA;AAAA,UACA,cAAA,SAAA;AAAA,QACA;AAAA,MACA,GAAA,aAAA,EACA,KAAA,CAAA,WAAA;AACA,YAAA,OAAA,KAAA,OAAA;AACA,mBAAA,QAAA,OAAA,KAAA,MAAA;AAEA,cAAA,cAAA,OAAA,KAAA,MAAA;AACA,cAAA,CAAA,YAAA,SAAA,MAAA,KAAA,CAAA,YAAA,SAAA,MAAA,GAAA;AACA,0BAAA,aAAA;AAAA,UACA;AACA,iBAAA,SAAA,OAAA,WAAA;AAAA,QACA;AACA,YAAA,OAAA,MAAA,OAAA;AACA,kBAAA,IAAA,gBAAA,OAAA,MAAA,MAAA,KAAA,OAAA;AACA,cAAA,MAAA,KAAA;AAAA,QACA;AAAA,MACA,CAAA,EACA,MAAA,CAAAC,WAAA;AACA,YAAA,MAAAA,MAAA;AAAA,MACA,CAAA,CAAA;IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
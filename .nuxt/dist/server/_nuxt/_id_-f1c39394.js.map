{"version":3,"file":"_id_-f1c39394.js","sources":["../../../../pages/information-items/[id].vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"update-information-item\">\r\n      <h1 class=\"font-bold py-4 capitalize\">Update Information Item</h1>\r\n\r\n      <form @submit.prevent=\"updateInformationItem\">\r\n        <div class=\"overflow-hidden shadow sm:rounded-md\">\r\n          <div class=\"px-4 py-5 sm:p-6\">         \r\n            <div class=\"col-span-12\">\r\n              <div class=\"grid grid-cols-12\">\r\n                <div\r\n                  class=\"col-span-3 flex items-center text-sm font-medium text-gray-700\"\r\n                >\r\n                  Created\r\n                </div>\r\n                <div class=\"col-span-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    :value=\"formatDate(form.createdAt, 'YYYY-MM-DD HH:mm')\"\r\n                    class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    disabled\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"flex flex-row py-2\">\r\n              <div class=\"basis-1/3 px-1.5\">\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"form.username\"\r\n                  :disabled=\"form.username\"\r\n                  id=\"username\"\r\n                  class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"basis-1/3 px-1.5\">\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"form.timestamp\"\r\n                  :disabled=\"form.timestamp\"\r\n                  id=\"timestamp\"\r\n                  class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"basis-1/3 px-1.5\">\r\n                <div class=\"flex flex-row\">\r\n                  <div\r\n                    class=\"basis-1/4 flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Item ID\r\n                  </div>\r\n                  <div class=\"basis-3/4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.item_id\"\r\n                      :disabled=\"form.item_id\"\r\n                      id=\"item_id\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-span-12 sm:col-span-12 mt-2\">\r\n              <div\r\n                class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4\"\r\n              >\r\n                <div class=\"col-span-12 sm:col-span-12\">\r\n                  <label\r\n                    for=\"information\"\r\n                    class=\"block text-sm font-medium text-gray-700\"\r\n                    >Information</label\r\n                  >\r\n                  <textarea\r\n                    v-model=\"form.information\"\r\n                    rows=\"6\"\r\n                    id=\"information\"\r\n                    class=\"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    placeholder=\"Some message or content here...\"\r\n                    required\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4 py-4\"\r\n            >\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    URL 1 information\r\n                  </div>\r\n                  <div class=\"col-span-9 px-1.5\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.url_1_txt\"\r\n                      id=\"url_1_txt\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    URL 1 link\r\n                    <div\r\n                      class=\"basis-1/5 flex items-center text-sm font-medium text-gray-700 pl-3\"\r\n                    >\r\n                      <button\r\n                        type=\"button\"\r\n                        @click=\"(event) => copy('url_1_link')\"\r\n                        title=\"Copy Command To Clipboard\"\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke-width=\"1.5\"\r\n                          stroke=\"currentColor\"\r\n                          class=\"w-6 h-6\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            d=\"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                      <a\r\n                        :href=\"form.url_1_link\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        title=\"Open To New Tap\"\r\n                        class=\"pl-2\"\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke-width=\"1.5\"\r\n                          stroke=\"currentColor\"\r\n                          class=\"w-6 h-6\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\r\n                          />\r\n                        </svg>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-span-9 px-1.5\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.url_1_link\"\r\n                      id=\"url_1_link\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    URL 2 information\r\n                  </div>\r\n                  <div class=\"col-span-9 px-1.5\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.url_2_txt\"\r\n                      id=\"url_2_txt\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div\r\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                  >\r\n                    URL 2 link\r\n                    <div\r\n                      class=\"basis-1/5 flex items-center text-sm font-medium text-gray-700 pl-3\"\r\n                    >\r\n                      <button\r\n                        type=\"button\"\r\n                        @click=\"(event) => copy('url_2_link')\"\r\n                        title=\"Copy Command To Clipboard\"\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke-width=\"1.5\"\r\n                          stroke=\"currentColor\"\r\n                          class=\"w-6 h-6\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            d=\"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                      <a\r\n                        :href=\"form.url_2_link\"\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        title=\"Open To New Tab\"\r\n                        class=\"pl-2\"\r\n                      >\r\n                        <svg\r\n                          xmlns=\"http://www.w3.org/2000/svg\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke-width=\"1.5\"\r\n                          stroke=\"currentColor\"\r\n                          class=\"w-6 h-6\"\r\n                        >\r\n                          <path\r\n                            stroke-linecap=\"round\"\r\n                            stroke-linejoin=\"round\"\r\n                            d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\r\n                          />\r\n                        </svg>\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-span-9 px-1.5\">\r\n                    <input\r\n                      type=\"text\"\r\n                      v-model=\"form.url_2_link\"\r\n                      id=\"url_2_link\"\r\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-span-12\">\r\n                <div class=\"grid grid-cols-12\">\r\n                  <div class=\"col-span-3\"></div>\r\n                  <div class=\"col-span-9\">\r\n                    <div class=\"grid grid-cols-12\">\r\n                      <div class=\"col-span-6\">\r\n                        <div class=\"grid grid-cols-12\">\r\n                          <div\r\n                            class=\"pt-4 col-span-4 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                          >\r\n                            Posts\r\n                          </div>\r\n                          <div class=\"col-span-8 px-1.5\">\r\n                            <p class=\"\">Per month</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              v-model=\"form.posts_per_month\"\r\n                              id=\"url_2_txt\"\r\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"grid grid-cols-12\">\r\n                          <div\r\n                            class=\"pt-4 col-span-4 w-fit flex items-center text-sm font-medium text-gray-700\"\r\n                          >\r\n                            Members\r\n                          </div>\r\n                          <div class=\"col-span-8 px-1.5\">\r\n                            <p class=\"\">Total</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              v-model=\"form.members_total\"\r\n                              id=\"url_2_txt\"\r\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-span-6\">\r\n                        <div class=\"grid grid-cols-12\">\r\n                          <div class=\"col-span-12 px-1.5\">\r\n                            <p class=\"\">Today</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              v-model=\"form.posts_today\"\r\n                              id=\"url_2_txt\"\r\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div class=\"grid grid-cols-12\">\r\n                          <div class=\"col-span-12 px-1.5\">\r\n                            <p class=\"\">New</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              v-model=\"form.members_new\"\r\n                              id=\"url_2_txt\"\r\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"px-4 py-3 text-right sm:px-6 w-full sm:w-full\">\r\n            <button\r\n              type=\"submit\"\r\n              class=\"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n  <script setup>\r\nimport moment from \"moment-timezone\";\r\ndefinePageMeta({\r\n  middleware: [\"auth\"],\r\n});\r\nconst AWN = inject(\"$awn\");\r\nconst config = useRuntimeConfig();\r\nconst { id } = await useRoute().params;\r\n\r\nlet timestamp = new Date().toLocaleTimeString();\r\n\r\nsetInterval(() => {\r\n  timestamp = new Date().toLocaleTimeString();\r\n}, 10);\r\n\r\nconst form = reactive({\r\n  id: \"\",\r\n  category_item_id: \"\",\r\n  username: \"\",\r\n  timestamp: \"\",\r\n  item_id: \"\",\r\n  url_1_txt: \"\",\r\n  url_1_link: \"\",\r\n  url_2_txt: \"\",\r\n  url_2_link: \"\",\r\n  posts_per_month: \"\",\r\n  posts_today: \"\",\r\n  members_total: \"\",\r\n  members_new: \"\",\r\n  createdAt: \"\",\r\n});\r\n\r\nconst { data: user } = await useFetch(\r\n  `${config.API_BASE_URL}information-items/identifier/${id}`,\r\n  { key: id }\r\n);\r\n\r\nif (user.value) {\r\n  form.id = user.value.id;\r\n  form.category_item_id = user.value.category_item_id;\r\n  form.username = user.value.username;\r\n  form.timestamp = new Date(user.value.timestamp).toLocaleTimeString();\r\n  form.item_id = user.value.item_id;\r\n  form.information = user.value.information;\r\n\r\n  form.url_1_txt = user.value.url_1_txt;\r\n  form.url_1_link = user.value.url_1_link;\r\n  form.url_2_txt = user.value.url_2_txt;\r\n  form.url_2_link = user.value.url_2_link;\r\n\r\n  form.posts_per_month = user.value.posts_per_month;\r\n  form.posts_today = user.value.posts_today;\r\n  form.members_total = user.value.members_total;\r\n  form.members_new = user.value.members_new;\r\n  form.createdAt = user.value.createdAt;\r\n}\r\n\r\nconst formatDate = (dateString, formatString) => {\r\n  const date = new Date(dateString);\r\n  return moment(date).format(formatString);\r\n};\r\n\r\nconst updateInformationItem = async () => {\r\n  const regex = /[.,\\s]/g;\r\n  const a_data = {\r\n    id: form.id,\r\n    category_item_id: form.category_item_id,\r\n    username: form.username,\r\n    timestamp: new Date(),\r\n    item_id: form.item_id,\r\n    information: form.information,\r\n    url_1_txt: form.url_1_txt,\r\n    url_1_link: form.url_1_link,\r\n    url_2_txt: form.url_2_txt,\r\n    url_2_link: form.url_2_link,\r\n\r\n    posts_per_month: form.posts_per_month\r\n      ? form.posts_per_month.replace(regex, \"\")\r\n      : null,\r\n    posts_today: form.posts_today ? form.posts_today.replace(regex, \"\") : null,\r\n    members_total: form.members_total\r\n      ? form.members_total.replace(regex, \"\")\r\n      : null,\r\n    members_new: form.members_new ? form.members_new.replace(regex, \"\") : null,\r\n  };\r\n\r\n  await useFetch(`${config.API_BASE_URL}information-items/update/${id}`, {\r\n    method: \"PUT\",\r\n    body: a_data,\r\n  })\r\n    .then((result) => {\r\n      if (result.data.value) {\r\n        AWN.success(result.data.value.message);\r\n        navigateTo(\"/information-items\");\r\n      }\r\n      if (result.error.value) {\r\n        console.log(\"error value1\", result.error.value.data.message);\r\n        AWN.alert(result.error.value.data.message);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error value\", error);\r\n      AWN.alert(\"Validation error\");\r\n    });\r\n};\r\n</script>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA8VA,WAAA,MAAA;AACA,UAAA,SAAA,iBAAA;AACA,UAAA,EAAA,GAAA,KAAqB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAA,EAAA,MAAA;AAErB,QAAA,KAAA,EAAA,mBAAA;AAEA,gBAAA,MAAA;AACA,UAAA,KAAA,EAAA;IACA,GAAA,EAAA;AAEA,UAAA,OAAA,SAAA;AAAA,MACA,IAAA;AAAA,MACA,kBAAA;AAAA,MACA,UAAA;AAAA,MACA,WAAA;AAAA,MACA,SAAA;AAAA,MACA,WAAA;AAAA,MACA,YAAA;AAAA,MACA,WAAA;AAAA,MACA,YAAA;AAAA,MACA,iBAAA;AAAA,MACA,aAAA;AAAA,MACA,eAAA;AAAA,MACA,aAAA;AAAA,MACA,WAAA;AAAA,IACA,CAAA;AAEA,UAAA,EAAA,MAAA,KAAA;MACA,GAAA,OAAA,4CAAA;AAAA,MACA,EAAA,KAAA,GAAA;AAAA,MACA;AAAA,IAAA,CAAA;AAEA,QAAA,KAAA,OAAA;AACA,WAAA,KAAA,KAAA,MAAA;AACA,WAAA,mBAAA,KAAA,MAAA;AACA,WAAA,WAAA,KAAA,MAAA;AACA,WAAA,YAAA,IAAA,KAAA,KAAA,MAAA,SAAA,EAAA;AACA,WAAA,UAAA,KAAA,MAAA;AACA,WAAA,cAAA,KAAA,MAAA;AAEA,WAAA,YAAA,KAAA,MAAA;AACA,WAAA,aAAA,KAAA,MAAA;AACA,WAAA,YAAA,KAAA,MAAA;AACA,WAAA,aAAA,KAAA,MAAA;AAEA,WAAA,kBAAA,KAAA,MAAA;AACA,WAAA,cAAA,KAAA,MAAA;AACA,WAAA,gBAAA,KAAA,MAAA;AACA,WAAA,cAAA,KAAA,MAAA;AACA,WAAA,YAAA,KAAA,MAAA;AAAA,IACA;AAEA,UAAA,aAAA,CAAA,YAAA,iBAAA;AACA,YAAA,OAAA,IAAA,KAAA,UAAA;AACA,aAAA,OAAA,IAAA,EAAA,OAAA,YAAA;AAAA,IACA;;;;;;;;;;;;"}
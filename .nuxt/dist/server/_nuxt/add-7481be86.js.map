{"version":3,"file":"add-7481be86.js","sources":["../../../../pages/information-items/add.vue"],"sourcesContent":["<template>\n  <div>\n    <div id=\"add-information-item\">\n      <h1 class=\"font-bold py-4 capitalize\">Add Information Item</h1>\n\n      <form @submit.prevent=\"createInformationItem\">\n        <div class=\"overflow-hidden shadow sm:rounded-md\">\n          <div class=\"px-4 py-5 sm:p-6\">\n            <div class=\"flex flex-row py-2\">\n              <div class=\"basis-1/3 px-1.5\">\n                <input\n                  type=\"text\"\n                  v-model=\"form.username\"\n                  :disabled=\"form.username\"\n                  id=\"username\"\n                  class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                  required\n                />\n              </div>\n\n              <div class=\"basis-1/3 px-1.5\">\n                <input\n                  type=\"text\"\n                  v-model=\"form.timestamp\"\n                  :disabled=\"form.timestamp\"\n                  id=\"timestamp\"\n                  class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                  required\n                />\n              </div>\n\n              <div class=\"basis-1/3 px-1.5\">\n                <div class=\"flex flex-row\">\n                  <div\n                    class=\"basis-1/4 flex items-center text-sm font-medium text-gray-700\"\n                  >\n                    Item ID\n                  </div>\n                  <div class=\"basis-3/4\">\n                    <input\n                      type=\"text\"\n                      v-model=\"form.item_id\"\n                      :disabled=\"form.item_id\"\n                      id=\"item_id\"\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-span-12 sm:col-span-12 mt-2\">\n              <div\n                class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4\"\n              >\n                <div class=\"col-span-12 sm:col-span-12\">\n                  <label\n                    for=\"information\"\n                    class=\"block text-sm font-medium text-gray-700\"\n                    >Information</label\n                  >\n                  <textarea\n                    v-model=\"form.information\"\n                    rows=\"6\"\n                    id=\"information\"\n                    class=\"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                    placeholder=\"Some message or content here...\"\n                    required\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <div\n              class=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4 py-4\"\n            >\n              <div class=\"col-span-12\">\n                <div class=\"grid grid-cols-12\">\n                  <div\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\n                  >\n                    URL 1 information\n                  </div>\n                  <div class=\"col-span-9 px-1.5\">\n                    <input\n                      type=\"text\"\n                      v-model=\"form.url_1_txt\"\n                      id=\"url_1_txt\"\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-span-12\">\n                <div class=\"grid grid-cols-12\">\n                  <div\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\n                  >\n                    URL 1 link\n                    <div\n                      class=\"basis-1/5 flex items-center text-sm font-medium text-gray-700 pl-3\"\n                    >\n                      <button\n                        type=\"button\"\n                        @click=\"(event) => copy('url_1_link')\"\n                        title=\"Copy Command To Clipboard\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke-width=\"1.5\"\n                          stroke=\"currentColor\"\n                          class=\"w-6 h-6\"\n                        >\n                          <path\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            d=\"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z\"\n                          />\n                        </svg>\n                      </button>\n                      <a\n                        :href=\"form.url_1_link\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        title=\"Open To New Tap\"\n                        class=\"pl-2\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke-width=\"1.5\"\n                          stroke=\"currentColor\"\n                          class=\"w-6 h-6\"\n                        >\n                          <path\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\n                          />\n                        </svg>\n                      </a>\n                    </div>\n                  </div>\n                  <div class=\"col-span-9 px-1.5\">\n                    <input\n                      type=\"text\"\n                      v-model=\"form.url_1_link\"\n                      id=\"url_1_link\"\n                      placeholder=\"https://www.example.com\"\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-span-12\">\n                <div class=\"grid grid-cols-12\">\n                  <div\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\n                  >\n                    URL 2 information\n                  </div>\n                  <div class=\"col-span-9 px-1.5\">\n                    <input\n                      type=\"text\"\n                      v-model=\"form.url_2_txt\"\n                      id=\"url_2_txt\"\n                      placeholder=\"https://www.example.com\"\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-span-12\">\n                <div class=\"grid grid-cols-12\">\n                  <div\n                    class=\"col-span-3 w-fit flex items-center text-sm font-medium text-gray-700\"\n                  >\n                    URL 2 link\n                    <div\n                      class=\"basis-1/5 flex items-center text-sm font-medium text-gray-700 pl-3\"\n                    >\n                      <button\n                        type=\"button\"\n                        @click=\"(event) => copy('url_2_link')\"\n                        title=\"Copy Command To Clipboard\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke-width=\"1.5\"\n                          stroke=\"currentColor\"\n                          class=\"w-6 h-6\"\n                        >\n                          <path\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            d=\"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z\"\n                          />\n                        </svg>\n                      </button>\n                      <a\n                        :href=\"form.url_2_link\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        title=\"Open To New Tab\"\n                        class=\"pl-2\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke-width=\"1.5\"\n                          stroke=\"currentColor\"\n                          class=\"w-6 h-6\"\n                        >\n                          <path\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            d=\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"\n                          />\n                        </svg>\n                      </a>\n                    </div>\n                  </div>\n                  <div class=\"col-span-9 px-1.5\">\n                    <input\n                      type=\"text\"\n                      v-model=\"form.url_2_link\"\n                      id=\"url_2_link\"\n                      class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"col-span-12\">\n                <div class=\"grid grid-cols-12\">\n                  <div class=\"col-span-3\"></div>\n                  <div class=\"col-span-9\">\n                    <div class=\"grid grid-cols-12\">\n                      <div class=\"col-span-6\">\n                        <div class=\"grid grid-cols-12\">\n                          <div\n                            class=\"pt-4 col-span-4 w-fit flex items-center text-sm font-medium text-gray-700\"\n                          >\n                            Posts\n                          </div>\n                          <div class=\"col-span-8 px-1.5\">\n                            <p class=\"\">Per month</p>\n                            <input\n                              type=\"text\"\n                              v-model=\"form.posts_per_month\"\n                              id=\"url_2_txt\"\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                            />\n                          </div>\n                        </div>\n\n                        <div class=\"grid grid-cols-12\">\n                          <div\n                            class=\"pt-4 col-span-4 w-fit flex items-center text-sm font-medium text-gray-700\"\n                          >\n                            Members\n                          </div>\n                          <div class=\"col-span-8 px-1.5\">\n                            <p class=\"\">Total</p>\n                            <input\n                              type=\"text\"\n                              v-model=\"form.members_total\"\n                              id=\"url_2_txt\"\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-span-6\">\n                        <div class=\"grid grid-cols-12\">\n                          <div class=\"col-span-12 px-1.5\">\n                            <p class=\"\">Today</p>\n                            <input\n                              type=\"text\"\n                              v-model=\"form.posts_today\"\n                              id=\"url_2_txt\"\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                            />\n                          </div>\n                        </div>\n\n                        <div class=\"grid grid-cols-12\">\n                          <div class=\"col-span-12 px-1.5\">\n                            <p class=\"\">New</p>\n                            <input\n                              type=\"text\"\n                              v-model=\"form.members_new\"\n                              id=\"url_2_txt\"\n                              class=\"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"px-4 py-3 text-right sm:px-6 w-full sm:w-full\">\n            <button\n              type=\"submit\"\n              class=\"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n            >\n              Submit\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefinePageMeta({\n  middleware: [\"auth\"],\n});\nconst urlParams = new URLSearchParams(window.location.search);\nconst id = urlParams.get(\"id\");\n\nconst AWN = inject(\"$awn\");\nconst config = useRuntimeConfig();\n\nlet local_data = localStorage.getItem(\"user\");\nlet timestamp = new Date().toLocaleTimeString();\n\nsetInterval(() => {\n  timestamp = new Date().toLocaleTimeString();\n}, 10);\n\nconst form = reactive({\n  category_item_id: id,\n  username: JSON.parse(local_data).userName,\n  timestamp,\n  item_id: \"\",\n  url_1_txt: \"\",\n  url_1_link: \"\",\n  url_2_txt: \"\",\n  url_2_link: \"\",\n  posts_per_month: null,\n  posts_today: null,\n  members_total: null,\n  members_new: null,\n});\n\nconst createInformationItem = async () => {\n  const regex = /[.,\\s]/g;\n  const a_data = {\n    category_item_id: form.category_item_id,\n    username: form.username,\n    timestamp: new Date(),\n    item_id: form.item_id,\n    information: form.information,\n    url_1_txt: form.url_1_txt,\n    url_1_link: form.url_1_link,\n    url_2_txt: form.url_2_txt,\n    url_2_link: form.url_2_link,\n    posts_per_month: form.posts_per_month\n      ? form.posts_per_month.replace(regex, \"\")\n      : null,\n    posts_today: form.posts_today ? form.posts_today.replace(regex, \"\") : null,\n    members_total: form.members_total\n      ? form.members_total.replace(regex, \"\")\n      : null,\n    members_new: form.members_new ? form.members_new.replace(regex, \"\") : null,\n  };\n\n  await useFetch(`${config.API_BASE_URL}information-items/create`, {\n    method: \"POST\",\n    body: a_data,\n  })\n    .then((result) => {\n      if (result.data.value) {\n        AWN.success(result.data.value.message);\n        navigateTo(\"/information-items\");\n      }\n      if (result.error.value) {\n        console.log(\"error value1\", result.error.value.data.message);\n        AWN.alert(result.error.value.data.message);\n      }\n    })\n    .catch((error) => {\n      console.log(\"error value\", error);\n      AWN.alert(\"Validation error\");\n    });\n};\n\nconst getTrackingURL = async () => {\n  const { data, error } = await useFetch(\n    `${config.API_BASE_URL}information-items/gettrackingurl`\n  );\n  if (data.value) {\n    form.item_id = data.value.newTrackingURl;\n  }\n  if (error.value) {\n    await AWN.alert(error.value.statusMessage);\n  }\n};\nonBeforeMount(getTrackingURL);\n\nconst copy = async (id) => {\n  // Get the text field\n  var copyText = document.getElementById(id);\n\n  // Select the text field\n  copyText.select();\n  copyText.setSelectionRange(0, 99999); // For mobile devices\n\n  // Copy the text inside the text field\n  navigator.clipboard.writeText(copyText.value);\n  await AWN.success(copyText.value + \" copied to clipboard!\");\n  // Alert the copied text\n  //alert(\"Copied the text: \" + copyText.value);\n};\n</script>\n  \n<style scoped>\n.transparent {\n  color: transparent;\n}\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA6UA,UAAA,YAAA,IAAA,gBAAA,OAAA,SAAA,MAAA;AACA,UAAA,KAAA,UAAA,IAAA,IAAA;AAEA,WAAA,MAAA;AACA,qBAAA;AAEA,QAAA,aAAA,aAAA,QAAA,MAAA;AACA,QAAA,YAAA,IAAA,OAAA;AAEA,gBAAA,MAAA;AACA,kBAAA,IAAA,OAAA;IACA,GAAA,EAAA;AAEA,UAAA,OAAA,SAAA;AAAA,MACA,kBAAA;AAAA,MACA,UAAA,KAAA,MAAA,UAAA,EAAA;AAAA,MACA;AAAA,MACA,SAAA;AAAA,MACA,WAAA;AAAA,MACA,YAAA;AAAA,MACA,WAAA;AAAA,MACA,YAAA;AAAA,MACA,iBAAA;AAAA,MACA,aAAA;AAAA,MACA,eAAA;AAAA,MACA,aAAA;AAAA,IACA,CAAA;;;;;;;;;;;;;"}
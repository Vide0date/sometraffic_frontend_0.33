import{H as E,T as M,M as j}from"./components.929f69d8.js";import{_ as q}from"./Loader.787a6dd2.js";import{l as C,a0 as N,a as F,r as H,b as L,w as b,e as x,u as n,c as V,f as P,h as R,i as f,j as r,P as $,o as g,m as D,t as I}from"./entry.a344c4af.js";import{u as S}from"./fetch.2961e18f.js";import"./composables.6d227d94.js";const U={class:"w-screen h-screen rounded-xl p-8 flex justify-center m-auto"},O={class:"space-y-8 flex justify-center m-auto object-center"},G={key:0,class:"inline-flex tracking"},Q={__name:"[id]",async setup(W){var h,v;let a,s;const i=C();N();const l=F(),d=i.params,B=i.query,o=H([]),T=L({redirect_flaq:!1}),m=l.BASE_URL+i.fullPath,u=m.split("?")[0];if(console.log("Full Path: ",m),d.id&&d.id.length===7){B.fbclid?console.log("Save it."):(console.log("Redirect it or show preview or do nothing."),[a,s]=b(()=>S(`${l.API_BASE_URL}trackingurl/get-meta`,{method:"POST",body:{tracking_url:u}},"$Yr6aDRXGgk").then(e=>{e.data.value&&(o.value=e.data.value),e.error.value&&console.log("Error no result",e.error)}).catch(e=>{console.log("Error useFetch: ",e)})),await a,s()),console.log("Redirect: ",o);let p=0,_=0;process.browser&&(p=(h=window==null?void 0:window.screen)==null?void 0:h.width,_=(v=window==null?void 0:window.screen)==null?void 0:v.height);let c="";if(process.browser&&navigator.connection){const t=navigator.connection.downlink;c=t+" Mbps",console.log("Internet speed is "+t+" Mbps")}else console.log("navigator.connection is not available");[a,s]=b(()=>S(`${l.API_BASE_URL}trackingurl/redirect`,{method:"POST",body:{id:d.id,tracking_url:u,screen_resolution:p+"x"+_,network_speed:c}},"$PNCP5poDuj").then(e=>{if(e.data.value){o.value=e.data.value.redirect;let t=e.data.value.destination_url;(!t.includes("http")||!t.includes("http"))&&(t="https://"+t)}e.error.value&&console.log("error value1",e.error.value.data.message)}).catch(e=>{})),await a,s()}return(p,_)=>{var w;const c=M,e=j,t=E,A=q;return g(),x($,null,[((w=n(o))==null?void 0:w.length)>0?(g(),V(t,{key:0},{default:P(()=>{var y;return[r(c,null,{default:P(()=>{var k;return[D("Some Traffic | "+I((k=n(o)[0])==null?void 0:k.seo_title),1)]}),_:1}),r(e,{property:"og:title",content:(y=n(o)[0])==null?void 0:y.seo_title},null,8,["content"]),r(e,{property:"og:description",content:n(o)[0].seo_description},null,8,["content"]),r(e,{property:"og:image",content:n(o)[0].seo_image_url},null,8,["content"]),r(e,{property:"og:url",content:n(u)},null,8,["content"]),r(e,{property:"og:type",content:"Some traffic web app"})]}),_:1})):R("",!0),f("div",null,[f("div",U,[f("div",O,[n(T).redirect_flaq==!0?(g(),x("span",G,[r(A)])):R("",!0)])])])],64)}}};export{Q as default};

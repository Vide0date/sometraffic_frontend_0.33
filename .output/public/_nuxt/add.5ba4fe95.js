import{m as w,a as S,r,e as B,f as k,h as A,i as e,j as I,F as U,u as o,G as j,y as f,z as n,A as l,l as q,o as D,H as R,I as T,B as C,U as N}from"./entry.25369c85.js";import{u as y}from"./fetch.b1abd144.js";import{D as V}from"./index.6992aefe.js";const i=c=>(R("data-v-0ed20541"),c=c(),T(),c),L={id:"last-tracking-url"},P=i(()=>e("div",{class:"text"}," This item already exists in the database. Are you sure that you want to create it double? ",-1)),O=["onSubmit"],$=i(()=>e("div",{class:"flex justify-between"},[e("h1",{class:"font-bold py-4 capitalize"},"Add a new project"),e("button",{type:"submit",class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent pt-4 px-4 text-sm font-medium text-black shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Add project ")],-1)),M={class:"overflow-hidden shadow sm:rounded-md"},E={class:"px-4 py-5 sm:p-6"},z={class:"col-span-12"},F={class:"grid grid-cols-12"},J=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," ID ",-1)),G={class:"col-span-3"},H=["disabled"],K={class:"flex flex-row mt-4"},W={class:"basis-1/2 pr-1.5"},Y={class:"col-span-12"},Z={class:"grid grid-cols-12"},Q=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created ",-1)),X={class:"col-span-9"},ee=["disabled"],te={class:"basis-1/2 pl-1.5"},se={class:"col-span-12"},oe={class:"grid grid-cols-12"},de=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Created By ",-1)),ae={class:"col-span-9"},ie=["disabled"],re={class:"col-span-12 mt-4"},ne={class:"grid grid-cols-12"},le=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Project name * ",-1)),ce={class:"col-span-3"},ue={class:"col-span-6 pl-4"},me={class:"col-span-12"},ge={class:"grid grid-cols-12"},pe=i(()=>e("div",{class:"col-span-3 flex items-center text-sm font-medium text-gray-700"}," Account ",-1)),_e={class:"col-span-9"},fe=["value","disabled"],ye={class:"col-span-12 sm:col-span-12 mt-4"},he={class:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-12 gap-4 gap-x-4"},ve={class:"col-span-12 sm:col-span-12"},be=i(()=>e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),xe={__name:"add",setup(c){const u=q("$awn"),g=S(),m=r(!1);r([]);const h=r(localStorage.getItem("activeAccount")),p=r(JSON.parse(localStorage.getItem("activeAccountData")));localStorage.getItem("sometraffic_default_category"),localStorage.getItem("sometraffic_default_group"),localStorage.getItem("sometraffic_default_priority");let v=localStorage.getItem("user"),_=new Date().toLocaleTimeString();const b=r("");r(!1),setInterval(()=>{_=new Date().toLocaleTimeString()},10);const s=B({name:"",description:"",unique_identifier:"",timestamp:_,createdBy:JSON.parse(v).userName}),x=async()=>{const a={AccountId:h.value,createdBy:s.createdBy,unique_identifier:s.unique_identifier,name:s.name,description:s.description};await y(`${g.API_BASE_URL}projects/create`,{method:"POST",body:a},"$lY30nkPnOU").then(t=>{t.data.value&&(u.success(t.data.value.message),b.value="",C("/projects").then(()=>{N().go("/projects")})),t.error.value&&(console.log("error value1",t.error.value.data.message),u.alert(error))}).catch(t=>{console.log("error value",t),u.alert("Unable to create item.")})};return k(async()=>{const{data:a,error:t}=await y(`${g.API_BASE_URL}projects/gettrackingurl`,"$wSpZyKhRag");a.value&&(s.unique_identifier=a.value.newTrackingURl),t.value&&await u.alert(t.value.statusMessage)}),(a,t)=>(D(),A("div",{onClick:t[6]||(t[6]=f((...d)=>a.doSomething&&a.doSomething(...d),["shift"]))},[e("div",L,[I(o(V),{title:"Are you sure?",modalClass:"confirm-modal",visible:o(m),"onUpdate:visible":t[0]||(t[0]=d=>j(m)?m.value=d:null),cancelButton:{text:"Cancel"},okButton:{text:"Okay",onclick:()=>a.handleSave()}},{default:U(()=>[P]),_:1},8,["visible","okButton"]),e("form",{onSubmit:f(x,["prevent"])},[$,e("div",M,[e("div",E,[e("div",z,[e("div",F,[J,e("div",G,[n(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=d=>o(s).unique_identifier=d),disabled:o(s).unique_identifier,id:"item_id",class:"bg-[#dddddd] disabled:bg-gray-300 disabled:text-gray-500 h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,H),[[l,o(s).unique_identifier]])])])]),e("div",K,[e("div",W,[e("div",Y,[e("div",Z,[Q,e("div",X,[n(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=d=>o(s).timestamp=d),disabled:o(s).timestamp,id:"timestamp",class:"bg-[#dddddd] disabled:bg-gray-300 disabled:text-gray-500 h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ee),[[l,o(s).timestamp]])])])])]),e("div",te,[e("div",se,[e("div",oe,[de,e("div",ae,[n(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=d=>o(s).createdBy=d),disabled:o(s).createdBy,id:"username",class:"bg-[#dddddd] disabled:bg-gray-300 disabled:text-gray-500 h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,ie),[[l,o(s).createdBy]])])])])])]),e("div",re,[e("div",ne,[le,e("div",ce,[n(e("input",{placeholder:"Need to enter account name (obligatory)",type:"text","onUpdate:modelValue":t[4]||(t[4]=d=>o(s).name=d),id:"name",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[l,o(s).name]])]),e("div",ue,[e("div",me,[e("div",ge,[pe,e("div",_e,[e("input",{type:"text",value:o(p).name,disabled:o(p).name,id:"username",class:"bg-[#dddddd] disabled:bg-gray-300 disabled:text-gray-500 h-10 py-2 px-3 text-gray-900 mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,8,fe)])])])])])]),e("div",ye,[e("div",he,[e("div",ve,[be,n(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=d=>o(s).description=d),rows:"6",id:"description",class:"bg-[#dddddd] py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",placeholder:"(free text field, 1000 characters max, about 30 sentenses max) what is the goal of this item or project"},null,512),[[l,o(s).description]])])])])])])],40,O)])]))}},Ae=w(xe,[["__scopeId","data-v-0ed20541"]]);export{Ae as default};

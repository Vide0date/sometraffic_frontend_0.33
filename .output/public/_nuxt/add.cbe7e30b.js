import{a as y,e as _,r as b,f as x,h as l,i as e,y as h,z as a,A as i,u as d,W as p,N as w,O as v,l as A,o as c,L as k,B as T}from"./entry.25369c85.js";import{u as f}from"./fetch.b1abd144.js";const U={id:"last-users"},N=e("h1",{class:"font-bold py-4 uppercase text-center"},"Add New User",-1),S=["onSubmit"],I={class:"overflow-hidden shadow sm:rounded-md"},B={class:"px-4 py-5 sm:p-6 w-full md:w-2/4 m-auto sm:w-full"},V={class:"grid grid-cols-6 gap-6"},q={class:"col-span-10 sm:col-span-12"},E=e("label",{for:"userName",class:"block text-sm font-medium text-gray-700"},"First name",-1),M={class:"col-span-10 sm:col-span-12"},P=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1),$={class:"col-span-10 sm:col-span-12"},L=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),O={class:"col-span-10 sm:col-span-12"},F=e("label",{for:"userType",class:"block text-sm font-medium text-gray-700"},"User Type",-1),R=e("option",{value:""},"Select",-1),j=e("option",{value:"Administrator"},"Administrator",-1),D=e("option",{value:"User"},"User",-1),W=[R,j,D],z={class:"col-span-10 sm:col-span-12"},C=e("label",{for:"userType",class:"block text-sm font-medium text-gray-700"},"Account",-1),G=e("option",{value:"null"},"Select",-1),H=["value"],J=e("div",{class:"px-4 py-3 text-right sm:px-6 w-full md:w-2/4 m-auto sm:w-full"},[e("button",{type:"submit",class:"bg-[#bcbcbc] inline-flex justify-center rounded-md border border-transparent py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Save ")],-1),Z={__name:"add",setup(K){const n=A("$awn"),u=y(),o=_({userName:"",email:"",password:"",userType:"",AccountId:null}),m=b([]),g=async()=>{let r={userName:o.userName,email:o.email,password:o.password,userType:o.userType,AccountId:o.AccountId};await f(`${u.API_BASE_URL}users/create`,{method:"POST",body:r},"$0EI7Ol3i9f").then(s=>{s.data.value&&(n.success(s.data.value.message),T("/users")),s.error.value&&(console.log("error",s.error.value.data.message),n.alert(error))}).catch(s=>{console.log("error",s),n.alert("Validation error")})};return x(async()=>{const{data:r}=await f(`${u.API_BASE_URL}accounts/all`,"$x0OvSdIqEM");m.value=r.value}),(r,s)=>(c(),l("div",null,[e("div",U,[N,e("form",{onSubmit:h(g,["prevent"])},[e("div",I,[e("div",B,[e("div",V,[e("div",q,[E,a(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>d(o).userName=t),id:"userName",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[i,d(o).userName]])]),e("div",M,[P,a(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>d(o).email=t),id:"email",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",required:""},null,512),[[i,d(o).email]])]),e("div",$,[L,a(e("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=t=>d(o).password=t),id:"password",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-gray-800 focus:ring-indigo-500 sm:text-sm",placeholder:"Password",required:""},null,512),[[i,d(o).password]])]),e("div",O,[F,a(e("select",{id:"userType","onUpdate:modelValue":s[3]||(s[3]=t=>d(o).userType=t),autocomplete:"userType",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-800 focus:outline-none focus:ring-indigo-500 sm:text-sm",required:""},W,512),[[p,d(o).userType]])]),e("div",z,[C,a(e("select",{id:"Account","onUpdate:modelValue":s[4]||(s[4]=t=>d(o).AccountId=t),autocomplete:"Account",class:"bg-[#dddddd] h-10 py-2 px-3 text-gray-900 mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-800 focus:outline-none focus:ring-indigo-500 sm:text-sm",required:""},[G,(c(!0),l(w,null,v(d(m),t=>(c(),l("option",{key:t.id,value:t.id},k(t.name),9,H))),128))],512),[[p,d(o).AccountId]])])])]),J])],40,S)])]))}};export{Z as default};
